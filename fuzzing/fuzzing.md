# Fuzzing

**FUZZ testing (fuzzing)** - это тип тестирования безопасности, который обнаруживает ошибки кодирования и "лазейки" в программном обеспечении, операционных системах или сетях. Фаззинг включает в себя ввод огромного количества случайных данных, называемых fuzz, в тестируемое программное обеспечение, чтобы заставить его дать сбой или прорвать его защиту.

С целью изучения этого подхода к тестированию были рассмотрены три небольших проекта:
1) приложение, которое принимает путь к фудиофайлу и частоту, и генерирует измененный аудиофайл (60 строк кода). Фаззинг выявил необработанные крайние значения частоты (очень большие отрицательные и положительные значения герц, значение `inf` и `-inf`) и ошибки чтения некорректных файлов (некорректный набор байтов). Это указывает на необходимость более тщательной валидации входных данных и обработки исключений;
2) реализация структуры данных граф из учебного проекта (200 строк кода). Проверено большое количество разнообразных вариантов входных данных для создания и построения графа, ребер и вершин. Ошибок не обнаружено, что говорит о хорошем качестве кода либо о необходимости расширения тестового покрытия;
3) реализация связного списка из внешнего источника (70 строк кода). Найдена неучтеная ошибка получения несуществующего элемента списка.

При планировании тестов были опробованы корпуса. Полезно для настройки тестов под определенные данные. Особенно в достаточно больших и сложных проектах.

Также размышлял о том, как тестировать большие приложения, генерировать различные типы сложных данных с использованием возможностей фаззера. Например эмуляция http заголовков, html страниц, эмуляция файлов разного типа и прочие данные.
В этом состояла и основная сложность работы с рассматриваемыми проектами -- как подготовить данные и что именно тестировать. Можно тестировать в "слепую" осбо не настраивая тесты, но это может быть не вполне эффективно по времени и ресурсам. Как минимум часть "законных" исключений можно убрать из проверки. Как максимум хорошо подготовить тестовые данные. Для этого нужно знать проект и его нюансы.

Это возможно, но при этом приходится более глубоко вникать в проект, понимать его узкие места и особенности. Для генерации данных можно использовать функции наподобие ConsumeString(), корпуса и в целом возможность мутаций, которые предоставляет фаззинг.

**Выводы и резюме:**  
Фаззинг является хорошим инструментом для обнаружения ошибок, которые могут быть не очевидны при традиционных методах тестирования. Он особенно эффективен для проверки обработки граничных условий и нестандартных входных данных.
Очень хорошо дополняет классическое тестирование, покрывая "слепые пятна". Из результатов фазз-тестирования можно извлечень автоматически инварианты для рассматриваемого кода.

Одним из ключевых преимуществ фаззинга является использование мутаций для генерации входных данных. Мутации позволяют создавать новые варианты тестовых данных путем изменения существующих примеров, что значительно расширяет охват тестирования и повышает вероятность обнаружения неочевидных уязвимостей. Этот процесс может включать изменение значений, вставку или удаление байтов, что делает возможным тестирование программы с широким спектром входных данных, включая те, которые могут не быть предусмотрены разработчиками.

Применение мутаций особенно важно при работе с комплексными входными форматами, такими как файлы мультимедиа или структурированные текстовые данные, где ручное создание тестовых случаев может быть крайне затруднительным. Мутационный фаззинг автоматически генерирует множество уникальных и потенциально проблемных входных данных, что делает его мощным инструментом для выявления ошибок обработки данных, переполнений буфера, уязвимостей безопасности и других критических проблем.

Применять фаззинг можно для различных проектов, но есть и очевидные трудности. Они включают в себя необходимость тщательной подготовки тестовых данных, особенно для сложных случаев тестирования, и возможно ложноположительную активность, которая требует дополнительной проверки результатов. Также, для эффективного фаззинга больших приложений необходимо глубокое понимание внутренней логики приложения и потенциальных точек входа для тестирования. Таким образом хорошее продуманное фазз-тестирование может быть достаточно сложно.

В целом, фаззинг демонстрирует высокую ценность в процессе разработки программного обеспечения, позволяя обнаруживать и устранять уязвимости на ранних этапах.
